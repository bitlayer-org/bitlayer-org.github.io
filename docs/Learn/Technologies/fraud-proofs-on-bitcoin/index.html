<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Learn/Technologies/fraud-proofs-on-bitcoin" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Fraud Proofs on Bitcoin | Bitlayer</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.bitlayer.org/docs/Learn/Technologies/fraud-proofs-on-bitcoin"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Fraud Proofs on Bitcoin | Bitlayer"><meta data-rh="true" name="description" content="Background"><meta data-rh="true" property="og:description" content="Background"><link data-rh="true" rel="icon" href="/img/bitlayer.ico"><link data-rh="true" rel="canonical" href="https://docs.bitlayer.org/docs/Learn/Technologies/fraud-proofs-on-bitcoin"><link data-rh="true" rel="alternate" href="https://docs.bitlayer.org/docs/Learn/Technologies/fraud-proofs-on-bitcoin" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.bitlayer.org/docs/Learn/Technologies/fraud-proofs-on-bitcoin" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Fraud Proofs on Bitcoin","item":"https://docs.bitlayer.org/docs/Learn/Technologies/fraud-proofs-on-bitcoin"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Bitlayer RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Bitlayer Atom Feed">





<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R3DF3TS5JQ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-R3DF3TS5JQ",{anonymize_ip:!0})</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.815b736f.css">
<script src="/assets/js/runtime~main.60fd4cbb.js" defer="defer"></script>
<script src="/assets/js/main.bbc5a173.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Bitlayer_docs.svg" alt="Bitlayer Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/Bitlayer_docs.svg" alt="Bitlayer Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Bitlayer</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Learn/Introduction">Learn@Bitlayer</a><a class="navbar__item navbar__link" href="/docs/Build/GettingStarted/QuickStart">Build@Bitlayer</a><a class="navbar__item navbar__link" href="/docs/BitVMBridge/overview">BitVM Bridge</a><a href="https://blog.bitlayer.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://www.bitlayer.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Bitlayer<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/bitlayer-org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/Learn/Introduction/">Introduction</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Introduction/">Welcome to Bitlayer Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/docs/Learn/Introduction/BTRToken/en">BTR Token</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Introduction/BTRToken/en">BTR Token Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Introduction/BTRToken/zh">BTR 代币简介</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Introduction/Roadmap">Roadmap</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/Learn/Bitlayer PoS/Overview">Bitlayer PoS (V1)</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer PoS/Overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer PoS/AboutGas">About Gas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer PoS/Networks">Network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer PoS/Bridges">Bridges</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer PoS/POR">Proof of Reserve</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer PoS/Json-RPC">JSON-RPC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer PoS/Contracts">Utility Contracts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer PoS/PegTokens">Peg Tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer PoS/BitlayerVsEth">Bitlayer VS. Ethereum</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer PoS/AboutFinality">About finality</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/Learn/Bitlayer Rollup/overview">Bitlayer Rollup (V2)</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer Rollup/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer Rollup/protocol">Bitlayer Rollup Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer Rollup/system-design">System Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer Rollup/bridge">Trust-minimized BTC Bridge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer Rollup/safety-and-liveness">Safety and Liveness</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Bitlayer Rollup/data-availability">Data Availability</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/Learn/Technologies/overview">Technologies</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Technologies/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Technologies/bitvm-smart-contract">BitVM-Style Smart Contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Learn/Technologies/fraud-proofs-on-bitcoin">Fraud Proofs on Bitcoin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Technologies/zero-knowledge-on-bitcoin">Zero-Knowledge Proofs on Bitcoin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Technologies/bitlayer-proof-system">Bitlayer Proof System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Technologies/finality-chain">Finality Chain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Learn/Technologies/under-research">Our Research</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Learn/FAQs/Frequently-asked-questions">MISC</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Learn/Terms/BTCFi/Desyn/user-agreement">Terms</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Technologies</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Fraud Proofs on Bitcoin</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Fraud Proofs on Bitcoin</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="background">Background<a href="#background" class="hash-link" aria-label="Direct link to Background" title="Direct link to Background">​</a></h2>
<p>Imagine conducting a computation off-chain, referred to as a <strong>state transition function (STF)</strong>. After completing this computation, you want to publicly verify an assertion about its output on-chain. There are two primary approaches to achieve this:</p>
<ol>
<li>
<p><strong>Validity Proofs:</strong><br>
<!-- -->A proof is generated alongside the assertion, and a verifier program runs on-chain using both the assertion and the proof as inputs. If the verifier outputs <code>TRUE</code>, the assertion is accepted; otherwise, it is rejected. Zero-knowledge proofs (ZKPs) are the dominant form of validity proofs, though trusted hardware-based proofs, such as those using trusted execution environments (TEEs), also exist.</p>
</li>
<li>
<p><strong>Fraud Proofs:</strong><br>
<!-- -->In this approach, the assertion is optimistically accepted and only finalized after a <strong>challenge window</strong> has elapsed (this is referred to as the &quot;happy path&quot;). During this window, anyone can challenge the assertion if they detect fraud. In the event of a challenge, a dispute resolution game is played on-chain between the <strong>challenger</strong> and the <strong>defender</strong> (usually the proposer of the assertion). The loser forfeits their deposit as a financial penalty.</p>
</li>
</ol>
<p>This article discusses fraud proofs on Bitcoin. We’ll start by modeling fraud proofs to better understand the challenges of implementing them on Bitcoin. Then, we’ll explore these challenges in detail, and finally, we’ll outline how to build practical fraud proofs for Bitcoin. While the focus is on Bitcoin, we’ll also reference Ethereum’s techniques where relevant, though without delving deeply into their specifics.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="basic-fraud-proofs">Basic Fraud Proofs<a href="#basic-fraud-proofs" class="hash-link" aria-label="Direct link to Basic Fraud Proofs" title="Direct link to Basic Fraud Proofs">​</a></h2>
<p>Fraud proofs have been successfully implemented in optimistic rollups on Ethereum, with notable examples being <strong>Arbitrum</strong> and <strong>Optimism</strong>. These systems rely on fraud proofs to ensure the integrity of off-chain computations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workflow-of-fraud-proofs">Workflow of Fraud Proofs<a href="#workflow-of-fraud-proofs" class="hash-link" aria-label="Direct link to Workflow of Fraud Proofs" title="Direct link to Workflow of Fraud Proofs">​</a></h3>
<p>The basic workflow for fraud proofs can be summarized as follows:</p>
<ol>
<li>
<p><strong>Proposing Assertions:</strong><br>
<!-- -->A proposer executes the STF off-chain and submits an assertion about the STF result to the base layer (Ethereum for Arbitrum and Optimism, Bitcoin for systems like Bitlayer).</p>
</li>
<li>
<p><strong>Optimistic Acceptance:</strong><br>
<!-- -->The base layer optimistically accepts the assertion. If no challenges are raised during the predefined challenge window, the assertion is finalized. This is the &quot;happy path.&quot;</p>
</li>
<li>
<p><strong>Disputes and Challenges:</strong><br>
<!-- -->If someone disagrees with the assertion, they can raise a challenge during the window, triggering a dispute resolution game. This game involves a <strong>challenger</strong> (the one disputing the assertion) and a <strong>defender</strong> (usually the proposer).</p>
</li>
<li>
<p><strong>Dispute Resolution Game:</strong><br>
<!-- -->The challenger and defender engage in a game to determine the correctness of the assertion. This game is played on-chain.</p>
</li>
<li>
<p><strong>Outcome and Penalties:</strong><br>
<!-- -->The loser of the dispute forfeits their deposit as a financial penalty.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dispute-resolution-game">Dispute Resolution Game<a href="#dispute-resolution-game" class="hash-link" aria-label="Direct link to Dispute Resolution Game" title="Direct link to Dispute Resolution Game">​</a></h3>
<p>The simplest way to resolve a dispute is to replay the entire STF on-chain and determine the correct outcome. However, replaying the STF in its entirety is computationally expensive and infeasible on Layer 1 (L1) blockchains due to limited block space. To address this, systems like Arbitrum and Optimism reduce the on-chain footprint by replaying only a single execution step of the STF.</p>
<p>To achieve this, the STF is broken down into discrete execution steps. This process involves generating an <strong>execution trace</strong> off-chain by running the STF program step by step. Each step in the trace includes:</p>
<ul>
<li><strong>Input:</strong> The pre-execution context (e.g., the state of the virtual machine or blockchain before execution).</li>
<li><strong>Output:</strong> A commitment to the updated post-execution context.</li>
</ul>
<p>The challenger and defender then collaboratively search through the execution trace to identify a single disputed step to replay on-chain. After replaying the step, the updated execution context is compared with the post-execution context commitment in the assertion. If the two do not match, the assertion is invalid.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution-trace">Execution Trace<a href="#execution-trace" class="hash-link" aria-label="Direct link to Execution Trace" title="Direct link to Execution Trace">​</a></h3>
<p>Implementing an interpreter for Ethereum Virtual Machine (EVM) bytecode on-chain is challenging due to the complexity of EVM bytecode. To simplify this process, programs are often compiled into simpler instruction sets, such as <strong>RISC-V</strong> or <strong>MIPS</strong>, and the execution trace is generated by running the compiled program. This approach helps manage the dynamic nature of EVM bytecode specifications.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bisection">Bisection<a href="#bisection" class="hash-link" aria-label="Direct link to Bisection" title="Direct link to Bisection">​</a></h3>
<p>To locate the specific step to replay, the challenger and defender use a <strong>bisection protocol</strong>. Initially, the execution trace is divided into two halves. The parties then iteratively narrow down the search space by bisecting one half until a single step is identified.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="arbitration">Arbitration<a href="#arbitration" class="hash-link" aria-label="Direct link to Arbitration" title="Direct link to Arbitration">​</a></h3>
<p>An on-chain smart contract acts as a referee during the dispute resolution game. Its primary responsibility is to prune invalid assertions. If the challenger wins, the assertion is rejected. However, if the defender wins, it does not necessarily mean the assertion is accepted—it simply means the assertion has not been proven invalid. This ensures the <strong>safety</strong> of the system, as all invalid assertions are pruned. To maintain <strong>liveness</strong>, other players can propose new assertions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="replacing-stf-with-a-zk-verifier">Replacing STF with a ZK Verifier<a href="#replacing-stf-with-a-zk-verifier" class="hash-link" aria-label="Direct link to Replacing STF with a ZK Verifier" title="Direct link to Replacing STF with a ZK Verifier">​</a></h2>
<p>The size of execution traces can vary significantly depending on the block content. Compiling an STF into low-level instructions often inflates the size of the execution trace, making it difficult to predict the number of interactions required in a dispute resolution game. This unpredictability increases costs, especially when the blockchain is congested.</p>
<p>Zero-knowledge proofs (ZKPs) offer a solution to this problem. With ZKPs, the following two statements are semantically equivalent:</p>
<ul>
<li>The STF is correct.</li>
<li>The ZK proof of the STF passes verification.</li>
</ul>
<p>The key advantage of ZKPs is that verifying a proof is computationally much cheaper than executing the original STF, regardless of the number of transactions processed. This asymmetry is critical for scaling blockchains.</p>
<p>There are two main approaches to incorporating ZKPs into fraud proofs:</p>
<ol>
<li>
<p><strong>Direct ZK Verification:</strong><br>
<!-- -->The challenger submits a ZK proof directly during a dispute. This eliminates the need for instruction-level bisection between the challenger and defender. For example, Optimism is considering adopting this approach.</p>
</li>
<li>
<p><strong>Fraud Proofs Against a ZK Verifier:</strong><br>
<!-- -->In this approach, the STF program is replaced with a ZK verifier in the dispute resolution game. Since the ZK verifier’s execution trace is relatively static, the complexity of the dispute resolution game becomes more predictable. Additionally, this approach simplifies implementation because the ZK verifier can be natively implemented on-chain, avoiding the need for a complex virtual machine interpreter.</p>
</li>
</ol>
<p>However, generating ZK proofs for STFs remains computationally expensive, which adds costs compared to traditional fraud proofs. Nonetheless, this approach offers significant benefits, particularly for non-Turing-complete blockchains like Bitcoin, where implementing an on-chain VM interpreter is challenging.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="modeling-fraud-proofs">Modeling Fraud Proofs<a href="#modeling-fraud-proofs" class="hash-link" aria-label="Direct link to Modeling Fraud Proofs" title="Direct link to Modeling Fraud Proofs">​</a></h2>
<p>Fraud proofs on Bitcoin are relatively new, and existing models do not adequately describe them. To address this, we need a formal model for fraud proofs. This model will help us better understand and design fraud proofs for Bitcoin.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem-definition">Problem Definition<a href="#problem-definition" class="hash-link" aria-label="Direct link to Problem Definition" title="Direct link to Problem Definition">​</a></h3>
<ul>
<li>A designated proposer performs an off-chain computation and submits an assertion.</li>
<li>A challenger disputes the assertion, triggering a search for a single step in the execution trace to replay on-chain.</li>
<li>An on-chain contract arbitrates the dispute and determines the winner.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="roles">Roles<a href="#roles" class="hash-link" aria-label="Direct link to Roles" title="Direct link to Roles">​</a></h3>
<ul>
<li><strong>Proposer:</strong> Submits the assertion to Bitcoin.</li>
<li><strong>Challenger:</strong> Disagrees with the assertion and initiates a dispute.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="system-model">System Model<a href="#system-model" class="hash-link" aria-label="Direct link to System Model" title="Direct link to System Model">​</a></h3>
<ul>
<li><strong>Program:</strong> Either the STF program or the ZK verifier of the STF program. A digest of the program is shared among participants.</li>
<li><strong>Replay Unit:</strong> The smallest unit of STF execution that can be replayed on-chain.</li>
<li><strong>Replay Target:</strong> The specific unit selected for replay.</li>
<li><strong>Replay Result:</strong> The pre- and post-execution states of the replayed unit.</li>
<li><strong>Replay Assertion:</strong> A combination of the replay target and the corresponding replay result.</li>
</ul>
<p>For Ethereum, the replay result includes the stack, heap, and state tree. For Bitcoin, it primarily consists of the remaining stack after executing the script.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workflow">Workflow<a href="#workflow" class="hash-link" aria-label="Direct link to Workflow" title="Direct link to Workflow">​</a></h3>
<ol>
<li><strong>Setup:</strong> Compile the program into replayable units (e.g., instructions, transactions, or segments).</li>
<li><strong>Commit:</strong> The proposer commits to the STF result.</li>
<li><strong>Search:</strong> The challenger locates the replay target, either interactively or non-interactively.</li>
<li><strong>Replay:</strong> The replay target is executed on-chain, producing a post-execution state.</li>
<li><strong>Arbitrate:</strong> The on-chain contract determines the winner based on whether the post-execution state matches the proposer’s commitment.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="search-and-replay-tradeoff">Search and Replay Tradeoff<a href="#search-and-replay-tradeoff" class="hash-link" aria-label="Direct link to Search and Replay Tradeoff" title="Direct link to Search and Replay Tradeoff">​</a></h3>
<p>The granularity of replay units affects the tradeoff between search and replay:</p>
<ul>
<li><strong>Instruction-level granularity:</strong> Billions of replay units, requiring extensive search but minimal replay effort.</li>
<li><strong>Transaction-level granularity:</strong> Thousands of replay units, balancing search and replay.</li>
<li><strong>Segment-level granularity:</strong> Hundreds of replay units, reducing search complexity but increasing replay workload.</li>
</ul>
<p>Both Optimism and Arbitrum use instruction-level granularity. On Bitcoin, <strong>BitVM1</strong> also uses instruction-level granularity, while <strong>BitVM2</strong> proposes a segment-level approach to reduce search complexity.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="instruction-level-vs-segment-level-fraud-proofs-on-bitcoin">Instruction-Level vs. Segment-Level Fraud Proofs on Bitcoin<a href="#instruction-level-vs-segment-level-fraud-proofs-on-bitcoin" class="hash-link" aria-label="Direct link to Instruction-Level vs. Segment-Level Fraud Proofs on Bitcoin" title="Direct link to Instruction-Level vs. Segment-Level Fraud Proofs on Bitcoin">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="design-principles">Design Principles<a href="#design-principles" class="hash-link" aria-label="Direct link to Design Principles" title="Direct link to Design Principles">​</a></h3>
<ol>
<li>Challenges must be permissionless, allowing any challenger to search for the replay target without requiring coordination with the proposer.</li>
<li>The dispute resolution game should conclude within one week, requiring no more than three interactions between the challenger and defender.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="segment-level-configuration">Segment-Level Configuration<a href="#segment-level-configuration" class="hash-link" aria-label="Direct link to Segment-Level Configuration" title="Direct link to Segment-Level Configuration">​</a></h3>
<ul>
<li><strong>Replay Unit:</strong> Segments, with each segment as close to Bitcoin’s upper size limit (4MB) as possible.</li>
<li><strong>Program:</strong> A ZK verifier for the STF, written in Bitcoin Script.</li>
<li><strong>Replay Result:</strong> The remaining stack and alt stack after executing the segment.</li>
</ul>
<p>Segments are organized as a <strong>taptree</strong>, with the proposer committing to all segment values. The challenger selects a segment to replay, and the segment logic is inverted to verify correctness.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-fraud-proofs-with-zk-verifiers-on-bitcoin">Building Fraud Proofs with ZK Verifiers on Bitcoin<a href="#building-fraud-proofs-with-zk-verifiers-on-bitcoin" class="hash-link" aria-label="Direct link to Building Fraud Proofs with ZK Verifiers on Bitcoin" title="Direct link to Building Fraud Proofs with ZK Verifiers on Bitcoin">​</a></h2>
<p>Creating a ZK verifier for fraud proofs on Bitcoin involves three stages:</p>
<ol>
<li>
<p><strong>Writing the ZK Verifier in Bitcoin Script:</strong><br>
<!-- -->Due to Bitcoin Script’s limited expressiveness, implementing a ZK verifier requires numerous optimizations, such as efficient arithmetic operations and cryptographic primitives.</p>
</li>
<li>
<p><strong>Segmenting the Verifier:</strong><br>
<!-- -->The verifier script is divided into multiple segments, each meeting Bitcoin’s runtime constraints.</p>
</li>
<li>
<p><strong>Linking Segments:</strong><br>
<!-- -->The segments are linked to form a complete, consistent ZK verifier. Shared values between segments are pre-committed using bit commitments.</p>
</li>
</ol>
<p>This foundational understanding of fraud proofs on Bitcoin sets the stage for implementing scalable, secure solutions for off-chain computation verification.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Learn/Technologies/bitvm-smart-contract"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">BitVM-Style Smart Contract</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Learn/Technologies/zero-knowledge-on-bitcoin"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Zero-Knowledge Proofs on Bitcoin</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background" class="table-of-contents__link toc-highlight">Background</a></li><li><a href="#basic-fraud-proofs" class="table-of-contents__link toc-highlight">Basic Fraud Proofs</a><ul><li><a href="#workflow-of-fraud-proofs" class="table-of-contents__link toc-highlight">Workflow of Fraud Proofs</a></li><li><a href="#dispute-resolution-game" class="table-of-contents__link toc-highlight">Dispute Resolution Game</a></li><li><a href="#execution-trace" class="table-of-contents__link toc-highlight">Execution Trace</a></li><li><a href="#bisection" class="table-of-contents__link toc-highlight">Bisection</a></li><li><a href="#arbitration" class="table-of-contents__link toc-highlight">Arbitration</a></li></ul></li><li><a href="#replacing-stf-with-a-zk-verifier" class="table-of-contents__link toc-highlight">Replacing STF with a ZK Verifier</a></li><li><a href="#modeling-fraud-proofs" class="table-of-contents__link toc-highlight">Modeling Fraud Proofs</a><ul><li><a href="#problem-definition" class="table-of-contents__link toc-highlight">Problem Definition</a></li><li><a href="#roles" class="table-of-contents__link toc-highlight">Roles</a></li><li><a href="#system-model" class="table-of-contents__link toc-highlight">System Model</a></li><li><a href="#workflow" class="table-of-contents__link toc-highlight">Workflow</a></li><li><a href="#search-and-replay-tradeoff" class="table-of-contents__link toc-highlight">Search and Replay Tradeoff</a></li></ul></li><li><a href="#instruction-level-vs-segment-level-fraud-proofs-on-bitcoin" class="table-of-contents__link toc-highlight">Instruction-Level vs. Segment-Level Fraud Proofs on Bitcoin</a><ul><li><a href="#design-principles" class="table-of-contents__link toc-highlight">Design Principles</a></li><li><a href="#segment-level-configuration" class="table-of-contents__link toc-highlight">Segment-Level Configuration</a></li></ul></li><li><a href="#building-fraud-proofs-with-zk-verifiers-on-bitcoin" class="table-of-contents__link toc-highlight">Building Fraud Proofs with ZK Verifiers on Bitcoin</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/Learn/Introduction">Learn</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Build/GettingStarted/QuickStart">Build</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://t.me/bitlayerofficial" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/GGSjNyD8nj" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/BitLayerLabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://medium.com/@Bitlayer" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/bitlayer-org" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Bitlayer</div></div></div></footer></div>
</body>
</html>